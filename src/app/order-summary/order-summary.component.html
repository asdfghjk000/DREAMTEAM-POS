<!-- Order Items List -->
<div *ngIf="newOrder.length > 0" class="summary-container">
  <div *ngFor="let item of newOrder" class="summary-item">
    <span>{{ item.quantity }} {{ item.productName }}</span>
    <span>₱ {{ item.price * item.quantity | number: '1.2-2' }}</span>
  </div>
</div>

<!-- Total Section -->
<div class="summary-total">
  <span>Subtotal:</span>
  <span>₱ {{ calculateTotal() | number: '1.2-2' }}</span>
</div>

<!-- Payment Section -->
<div class="payment-section">
  <!-- Discount Input -->
  <div>
    <label for="discount">DISCOUNT (%)</label>
    <input
      id="discount"
      type="number"
      [(ngModel)]="discount"
      (input)="applyDiscount()"
      [min]="0"
      [max]="100"
      placeholder="Enter discount"
    />
  </div>

  <!-- Total After Discount -->
  <div class="summary-total">
    <span>Total:</span>
    <span>₱ {{ calculateTotalAfterDiscount() | number: '1.2-2' }}</span>
  </div>

  <!-- Paid Amount and Change -->
  <div>
    <label for="paidAmount">PAID:</label>
    <input
      id="paidAmount"
      type="number"
      [(ngModel)]="paidAmount"
      (input)="calculateChange()"
      placeholder="Enter amount"
    />
  </div>
  <div>
    <label>CHANGE:</label>
    <span>₱ {{ change | number: '1.2-2' }}</span>
  </div>
</div>

<!-- Dine-In or Take-Out Section -->
<div class="order-type-buttons">
  <button
    (click)="selectOrderType('dine-in')"
    [class.active]="orderType === 'dine-in'"
  >
    DINE-IN
  </button>
  <button
    (click)="selectOrderType('take-out')"
    [class.active]="orderType === 'take-out'"
  >
    TAKE-OUT
  </button>
</div>

<!-- Payment Methods Section -->
<div class="payment-buttons">
  <button
    (click)="selectPaymentMethod('cash')"
    [class.active]="paymentMethod === 'cash'"
  >
    CASH
  </button>
  <button
    (click)="selectPaymentMethod('gcash')"
    [class.active]="paymentMethod === 'gcash'"
  >
    GCASH
  </button>
</div>

<!-- Confirm and Cancel Buttons -->
<div class="action-buttons">
  <button (click)="confirmOrder()" class="confirm-button">CONFIRM</button>
  <button (click)="handleCancelOrder()" class="cancel-button">CANCEL</button>
</div>

<!-- Floating Confirmation Modal -->
<div *ngIf="showConfirmationModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 1000;">
  <div style="background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); text-align: center; max-width: 300px; width: 100%;">
    <p style="font-size: 16px; margin-bottom: 20px; color: #333;">Are you sure you want to confirm the order?</p>
    <button (click)="finalizeOrder(true)" style="padding: 10px 15px; font-size: 14px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; background-color: #4caf50; color: white; transition: background-color 0.3s;">YES</button>
    <button (click)="finalizeOrder(false)" style="padding: 10px 15px; font-size: 14px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; background-color: #f44336; color: white; transition: background-color 0.3s;">NO</button>
  </div>
</div>

<!-- Warning Message -->
<div *ngIf="warningMessage" class="warning-message">
  <p>{{ warningMessage }}</p>
</div>
