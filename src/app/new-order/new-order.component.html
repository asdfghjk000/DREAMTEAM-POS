<div class="order-container">
  <div class="order-section">
    <h3>{{ isPaymentCompleted ? 'ORDER SUMMARY' : 'NEW ORDER' }}</h3>

    <!-- Show New Order Content -->
    <div *ngIf="!isPaymentCompleted" class="order-list">
      <table>
        <thead>
          <tr>
            <th>ITEM</th>
            <th>QUANTITY</th>
            <th>COST</th>
            <th>ACTION</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of products">
            <td>{{ item.productName }}</td>
            <td>
              <button (click)="decreaseQuantity(item)">-</button>
              {{ item.quantity }}
              <button (click)="increaseQuantity(item)">+</button>
            </td>
            <td>‚Ç± {{ item.price * item.quantity | number: '1.2-2' }}</td>
            <td>
              <button (click)="removeItem(item)">üóëÔ∏è</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Total and Payment Button -->
    <div *ngIf="!isPaymentCompleted" class="total">
      <span>TOTAL:</span>
      <span>‚Ç± {{ calculateTotal() | number: '1.2-2' }}</span>
    </div>

    <button *ngIf="!isPaymentCompleted" class="payment-btn" (click)="proceedToPayment()">PAYMENT</button>

    <!-- Show Order Summary or History Content -->
    <div *ngIf="isPaymentCompleted">
      <app-order-summary [newOrder]="products"></app-order-summary> <!-- Pass the products here -->
    </div>
  </div>
</div>
